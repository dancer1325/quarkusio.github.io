////
This guide is maintained in the main Quarkus repository
and pull requests should be submitted there:
https://github.com/quarkusio/quarkus/tree/main/docs/src/main/asciidoc
////
= Observability in Quarkus
include::_attributes.adoc[]
:diataxis-type: reference
:categories: observability
:summary: This guide explains how your Quarkus application can utilize OpenTelemetry to provide observability for interactive web applications.
:topics: observability,opentelemetry, micrometer, jfr, logging, metrics, tracing, monitoring, devservice
:extensions: io.quarkus:quarkus-opentelemetry,io.quarkus:quarkus-micrometer,io.quarkus:quarkus-jfr

* Observability
    ** := capability / enable a human , about a system, to
        *** ask questions
        *** answer questions

* goal
    ** observability extensions / AVAILABLE | Quarkus

== Telemetry

* Telemetry data
    ** == system internal state data
    ** categories
        *** *Logging*
            **** == classical local or distributed logs
        *** *Metrics*
            **** metrics / EACH Quarkus application instance
        *** *Tracing*
            **** == distributed tracing ACROSS applications
        *** *Profiling*
            **** == application's performance, resource usage, and runtime behavior
        *** *Events*
            **** the MOST generic signal
            **** == | program's execution, something significant happening

== Guidelines

* https://opentelemetry.io/docs/specs/otel/protocol/[OpenTelemetry OTLP protocol]
    ** == üëÄrecommended way -- to -- send telemetry out of a Quarkus applicationüëÄ

== Overview

* extensions / EACH type of signal

|===
|Extension |Logging |Metrics |Tracing |Profiling |Health Check|Events

|xref:opentelemetry.adoc[quarkus-opentelemetry]
|O
|O
|R
|
|
|X

|xref:telemetry-micrometer.adoc[quarkus-micrometer]
|
|R
|
|
|
|

|xref:telemetry-micrometer-to-opentelemetry.adoc[quarkus-micrometer-opentelemetry]
|X
|R
|R
|
|
|X

|xref:jfr.adoc[quarkus-jfr]
|
|
|
|R
|
|X

|xref:logging.adoc[Logging in Quarkus]
|X
|
|
|
|
|

|xref:logging.adoc#json-logging[quarkus-logging-json]
|X
|
|
|
|
|


|xref:centralized-log-management.adoc[quarkus-logging-gelf]
|D
|
|
|
|
|
|===

- *R*
    ** recommended
- *X*
    ** supports
- *D*
    ** deprecated
- *O*
    ** off by default

== The telemetry data

=== Logging and events

* log line
    ** == type of event / includes a severity classification

==== Quarkus logging extensions

* application & framework logs
    ** can be published by *JBoss Log Manager* logging backend |
        *** console OR
        *** files
    ** can be forwarded -- to a -- centralized logging system, via
        *** xref:centralized-log-management.adoc[`quarkus-logging-gelf`] extension OR
            **** legacy
        *** xref:opentelemetry.adoc[`quarkus-opentelemetry`] OR
            **** recommended one
        *** xref:telemetry-micrometer-to-opentelemetry.adoc[`quarkus-micrometer-opentelemetry`] extensions
            **** recommended one

* OpenTelemetry logs
    ** | `quarkus-opentelemetry` extension,
        *** by default, disabled
    ** | `quarkus-micrometer-opentelemetry` extension,
        *** by default, enabled

==== Other events

* | generate observability events | Quarkus , ‚ùåNO recommended way‚ùå
    ** Reason:üß†OpenTelemetry Events API
        *** STILL under development
        *** NOT recommendedüß†

* xref:jfr.adoc[`quarkus-jfr`] extension
    ** can generate observability related events

=== Metrics

* Micrometer
    ** allows
        *** collecting application's metrics
    ** uses
        *** implement ALL the out-of-the-box metrics instrumentation | Quarkus

* OpenTelemetry Metrics
    ** AVAILABLE -- via -- xref:opentelemetry.adoc[`quarkus-opentelemetry`] extension
        *** by default, disabled
            **** Reason:üß† metrics semantic conventions are NOT stable yetüß†

* xref:telemetry-micrometer-to-opentelemetry.adoc[`quarkus-micrometer-opentelemetry`] extension
    ** allow
        *** *Micrometer metrics* + *OpenTelemetry logs and traces* / unified output -- via -- OTLP protocol
        *** creating manual OpenTelemetry metrics /
            **** by default, enabled ALL signals

=== Tracing

* xref:opentelemetry.adoc[`quarkus-opentelemetry`] & xref:telemetry-micrometer-to-opentelemetry.adoc[`quarkus-micrometer-opentelemetry`] extensions
    ** provides
        *** tracing capabilities -- to the -- application
            **** recommended way

=== Profiling

* xref:jfr.adoc[`quarkus-jfr`] extension
    ** uses
        *** generate the events / necessary -- to -- profile the application
            **** recommended way

* OpenTelemetry profiling signal
    ** STILL under development

== See telemetry

* xref:observability-devservices-lgtm.adoc[Grafana LGTM Dev Service extension]
    ** allows
        *** visualizing the telemetry data (logs, metrics and traces) | Grafana
